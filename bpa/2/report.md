# Национальный исследовательский университет ИТМО
# Лабараторная работа №2
## Вариант 3022
### Толмачев Иван (P3130)


# Исходная программа
```
134:  A134 ; LD 134  ; AC    <= [134]      ; Переменная A
135:  0200 ; CLA     ; AC    <= 0          ; Результат программы
136:  0200 ; CLA     ; AC    <= 0          ; Переменная C
137: +A134 ; LD 134  ; AC    <= [134]      ; Загружаем в аккумулятор значение ячейки 134 (переменной A)
138:  4140 ; ADD 140 ; AC    <= AC + [140] ; Складываем аккумулятор со значением ячейки 140 (переменной C)
139:  E13F ; ST 13F  ; [13F] <= AC         ; Записываем значение аккумулятора в ячейку 13F
13A:  0200 ; CLA     ; AC    <= 0          ; Загружаем в аккумулятор значение 0
13B:  3136 ; OR 136  ; AC    <= AC | [136] ; Производим "логическое или" аккумулятора и значения ячейки 136 (переменной B)
13C:  213F ; AND 13F ; AC    <= AC & [13F] ; Производим "логическое умножение" аккумулятора и значения ячейки 13F
13D:  E135 ; ST 135  ; [135] <= AC         ; Записываем значение аккумулятора в ячейку 135
13E:  0100 ; HLT     ; HALT                ; Стоп
13F:  E13F ; ST 13F  ; E13F                ; Промежуточный буфер
140:  0200 ; CLA     ; 0200                ; Переменная B
```


# Вычисляемая функция и её область определения
```
([134] + [140]) & (0 | [136])
		 = ([134] + [140]) & [136]
```
Получается, вычисляемая функция это: (A + B) & C.

## Область определения
1. [134] + [140] должно поместиться в 15 бит, то есть каждая ячейка должна иметь область значений от -2^14 до 2^14 - 1.
2. 0 | [136] должно поместиться в 16 бит, то есть ячейка [136] должна иметь область значений от 0 до 2^16 - 1.
3. Результат тоже должен поместиться в 16 бит, но все для этого уже учтено в пунктах (1) и (2).

Область определения функции: от 0 до 2^16 - 1.

## Область значений
Функция может принимать любые значения от 0 до 2^16 - 1.


# Трассировка программы
A = 8001 = 1000 0000 0000 0001 ; 2^15 -32767 #32769
B = 765D = 0111 0110 0101 1101 ; 30301
C = D905 = 1101 1001 0000 0101 ; 55557

(8001 + 765D) & D905 = F65E & D905
= 1111 0110 0101 1110
  1101 1001 0000 0101

  1101 0000 0000 0100 = D004

A и B -- не подходит под ОДЗ, а C подходят.

Адр	Знчн	IP	CR	   AR	 DR	  SP	BR	  AC	   PS	NZVC	Адр	Знчн
137	A134	137	0000	000	0000	000	0000	0000	004	0100
137	A134	138	A134	134	8001	000	0137	8001	008	1000
138	4140	139	4140	140	765D	000	0138	F65E	008	1000
139	E13F	13A	E13F	13F	F65E	000	0139	F65E	008	1000	13F	F65E
13A	0200	13B	0200	13A	0200	000	013A	0000	004	0100
13B	3136	13C	3136	136	D905	000	26FA	D905	008	1000
13C	213F	13D	213F	13F	F65E	000	013C	D004	008	1000
13D	E135	13E	E135	135	D004	000	013D	D004	008	1000	135	D004
13E	0100	13F	0100	13E	0100	000	013E	D004	008	1000

nzvc
0100
1000

# Упрощенная программа
```
		   ; immut data
134:  A134 ;
135:  0200 ;
136:  0200 ;
           ; mut data
137:  0000 ;
		   ; code
138: +A134 ; AC    <= [134]
139:  4135 ; AC    <= AC + [135]
13A:  2136 ; AC    <= AC & [136]
13B:  E137 ; [137] <= AC
13C:  0100 ; HLT
```

