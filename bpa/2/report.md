# Национальный исследовательский университет ИТМО
# Лабараторная работа №2
## Вариант 3022
### Толмачев Иван (P3130)


# Исходная программа
```
134:  A134 ; LD 134  ; AC    <= [134]      ; Переменная A
135:  0200 ; CLA     ; AC    <= 0          ; Результат программы
136:  0200 ; CLA     ; AC    <= 0          ; Переменная C
137: +A134 ; LD 134  ; AC    <= [134]      ; Загружаем в аккумулятор значение ячейки 134 (переменной A)
138:  4140 ; ADD 140 ; AC    <= AC + [140] ; Складываем аккумулятор со значением ячейки 140 (переменной C)
139:  E13F ; ST 13F  ; [13F] <= AC         ; Записываем значение аккумулятора в ячейку 13F
13A:  0200 ; CLA     ; AC    <= 0          ; Загружаем в аккумулятор значение 0
13B:  3136 ; OR 136  ; AC    <= AC | [136] ; Производим "логическое или" аккумулятора и значения ячейки 136 (переменной B)
13C:  213F ; AND 13F ; AC    <= AC & [13F] ; Производим "логическое умножение" аккумулятора и значения ячейки 13F
13D:  E135 ; ST 135  ; [135] <= AC         ; Записываем значение аккумулятора в ячейку 135
13E:  0100 ; HLT     ; HALT                ; Стоп
13F:  E13F ; ST 13F  ; E13F                ; Промежуточный буфер
140:  0200 ; CLA     ; 0200                ; Переменная B
```


# Вычисляемая функция и её область определения
```
([134] + [140]) & (0 | [136])
		 = ([134] + [140]) & [136]
```
Получается, вычисляемая функция это: (A + B) & C.

## Область определения
1. [134] + [140] должно поместиться в 15 бит, то есть каждая ячейка должна иметь область значений от -2^14 до 2^14 - 1.
2. 0 | [136] должно поместиться в 16 бит, то есть ячейка [136] должна иметь область значений от 0 до 2^16 - 1.
3. Результат тоже должен поместиться в 16 бит, но все для этого уже учтено в пунктах (1) и (2).

Область определения функции: от 0 до 2^16 - 1.

## Область значений
Функция может принимать любые значения от 0 до 2^16 - 1.


<!--
# Трассировка программы
0.                   AC ;                  BR ;          PS ;                  IR ;                  DR ;                  CR ;            IP ;            SP ;    NZVC
1.  0000 0010 0000 0000 ; 0000 0001 0011 1110 ; 0 1000 0000 ; 0000 0001 0011 0111 ; 0000 0001 0000 0000 ; 0000 0001 0000 0000 ; 001 0011 0111 ; 000 0000 0000 ; 0 0 0 0
2.  1010 0001 0011 0100 ; 0000 0001 0011 0111 ; 0 0000 1000 ; 0000 0001 0011 0111 ; 1010 0001 0011 0100 ; 1010 0001 0011 0100 ; 001 0011 1000 ; 000 0000 0000 ; 1 0 0 0
3.  1010 0011 0011 0100 ; 0000 0001 0011 1000 ; 0 0000 1000 ; 0000 0001 0011 0111 ; 0000 0010 0000 0000 ; 0100 0001 0100 0000 ; 001 0011 1001 ; 000 0000 0000 ; 1 0 0 0
4.  1010 0011 0011 0100 ; 0000 0001 0011 1001 ; 0 0000 1000 ; 0000 0001 0011 0111 ; 1010 0011 0011 0100 ; 1110 0001 0011 1111 ; 001 0011 1010 ; 000 0000 0000 ; 1 0 0 0
5.  0000 0000 0000 0000 ; 0000 0001 0011 1010 ; 0 0000 0100 ; 0000 0001 0011 0111 ; 0000 0010 0000 0000 ; 0000 0010 0000 0000 ; 001 0011 1011 ; 000 0000 0000 ; 0 1 0 0
6.  0000 0010 0000 0000 ; 1111 1101 1111 1111 ; 0 0000 0000 ; 0000 0001 0011 0111 ; 0000 0010 0000 0000 ; 0011 0001 0011 0110 ; 001 0011 1100 ; 000 0000 0000 ; 0 0 0 0
7.  0000 0010 0000 0000 ; 0000 0001 0011 1100 ; 0 0000 0000 ; 0000 0001 0011 0111 ; 1010 0011 0011 0100 ; 0010 0001 0011 1111 ; 001 0011 1101 ; 000 0000 0000 ; 0 0 0 0
8.  0000 0010 0000 0000 ; 0000 0001 0011 1101 ; 0 0000 0000 ; 0000 0001 0011 0111 ; 0000 0010 0000 0000 ; 1110 0001 0011 0101 ; 001 0011 1110 ; 000 0000 0000 ; 0 0 0 0
9.  0000 0010 0000 0000 ; 0000 0001 0011 1110 ; 0 0000 0000 ; 0000 0001 0011 0111 ; 0000 0001 0000 0000 ; 0000 0001 0000 0000 ; 001 0011 1111 ; 000 0000 0000 ; 0 0 0 0
10. 0000 0000 0000 0000 ; 0000 0001 0011 1111 ; 0 0000 0100 ; 0000 0001 0011 0111 ; 0000 0000 0000 0000 ; 1010 0011 0011 0100 ; 001 0100 0000 ; 000 0000 0000 ; 0 1 0 0
!-->

# Трассировка программы
A = 8001 = 1000 0000 0000 0001 ; 2^15 -32767 #32769
B = 765D = 0111 0110 0101 1101 ; 30301
C = D905 = 1101 1001 0000 0101 ; 55557

(8001 + 765D) & D905 = F65E & D905
= 1111 0110 0101 1110
  1101 1001 0000 0101

  1101 0000 0000 0100 = D004

A и B -- не подходит под ОДЗ, а C подходят.

0. AC ; BR ; PS ; IR ; DR ; CR ; IP ; SP ; AR ; NZVC
1.  0000 FFFF 004 0134 FFFF 8001 136 000 001 0100
2.  0000 0136 005 0134 0000 765D 137 000 65D 0101
3.  8001 0137 009 0134 8001 A134 138 000 134 1001
4.  5906 0138 003 0134 D905 4140 139 000 140 0011
5.  5906 0139 003 0134 5906 E13F 13A 000 13F 0011
6.  0000 013A 005 0134 0200 0200 13B 000 13A 0101
7.  765D 89A2 001 0134 765D 3136 13C 000 136 0001
8.  5004 013C 001 0134 5906 213F 13D 000 13F 0001
9.  5004 013D 001 0134 5004 E135 13E 000 135 0001
10. 5004 013E 001 0134 0100 0100 13F 000 13E 0001

# Упрощенная программа
```
		   ; immut data
134:  A134 ;
135:  0200 ;
136:  0200 ;
           ; mut data
137:  0000 ;
		   ; code
138: +A134 ; AC    <= [134]
139:  4135 ; AC    <= AC + [135]
13A:  2136 ; AC    <= AC & [136]
13B:  E137 ; [137] <= AC
13C:  0100 ; HLT
```

